import{$a as M,Db as f,Fb as _,Fd as B,Hb as c,Oa as r,Rb as a,Ub as C,Wa as h,Wb as y,Xb as g,Yb as b,Zc as T,ba as S,bd as P,ca as x,fd as V,md as N,na as v,nb as p,nd as I,ob as u,pd as W,qb as w,rb as D,sb as k,tb as E,ub as i,vb as n,vd as A,wb as d}from"./chunk-VK37UQGS.js";import"./chunk-N57AJHA5.js";function F(t,m){if(t&1){let e=f();i(0,"div",5)(1,"input",14),b("ngModelChange",function(o){S(e);let l=c();return g(l.permanent,o)||(l.permanent=o),x(o)}),n(),i(2,"label",15)(3,"strong"),a(4,"Permanent Session"),n(),i(5,"div",16),a(6," Permanent sessions never expire and remain available indefinitely. "),n()()()}if(t&2){let e=c();r(),y("ngModel",e.permanent)}}function O(t,m){if(t&1&&(i(0,"option",19),a(1),n()),t&2){let e=m.$implicit;E("value",e),r(),C(" ",e," ",e===1?"month":"months"," ")}}function L(t,m){if(t&1){let e=f();i(0,"div",6)(1,"label",17)(2,"strong"),a(3,"Session Expiry Duration"),n()(),i(4,"select",18),b("ngModelChange",function(o){S(e);let l=c();return g(l.expiryDuration,o)||(l.expiryDuration=o),x(o)}),D(5,O,2,3,"option",19,w),n(),i(7,"div",16),a(8," Session will automatically expire after the selected duration. "),n()()}if(t&2){let e=c();r(4),y("ngModel",e.expiryDuration),r(),k(e.siteProperties.expiry_duration_options)}}function Y(t,m){t&1&&(i(0,"strong"),a(1,"Permanent session:"),n(),a(2," Your session will be saved permanently and never expire. "))}function j(t,m){if(t&1&&(i(0,"strong"),a(1,"Temporary session:"),n(),a(2)),t&2){let e=c();r(2),C(" Your session will expire in ",e.expiryDuration()," ",e.expiryDuration()===1?"month":"months",". ")}}var R=(()=>{class t{constructor(e){this.activeModal=e,this.permanent=v(!1,{}),this.expiryDuration=v(void 0,{})}ngOnInit(){this.siteProperties&&this.expiryDuration.set(this.siteProperties.default_expiry_duration_months)}save(){let e={permanent:this.permanent(),expiryDuration:this.permanent()?void 0:this.expiryDuration()};this.activeModal.close(e)}cancel(){this.activeModal.dismiss()}static{this.\u0275fac=function(s){return new(s||t)(h(B))}}static{this.\u0275cmp=M({type:t,selectors:[["app-session-save-modal"]],inputs:{siteProperties:"siteProperties"},decls:19,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"bi","bi-save","me-2"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-check","form-switch","mb-3"],[1,"mb-3"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-check-circle","me-1"],["type","checkbox","id","permanentSwitch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","permanentSwitch",1,"form-check-label"],[1,"form-text"],["for","expiryDuration",1,"form-label"],["id","expiryDuration",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"]],template:function(s,o){s&1&&(i(0,"div",0)(1,"h4",1),d(2,"i",2),a(3,"Save Session "),n(),i(4,"button",3),_("click",function(){return o.cancel()}),n()(),i(5,"div",4),p(6,F,7,1,"div",5),p(7,L,9,1,"div",6),i(8,"div",7),d(9,"i",8),p(10,Y,3,0)(11,j,3,2),n()(),i(12,"div",9)(13,"button",10),_("click",function(){return o.cancel()}),d(14,"i",11),a(15,"Cancel "),n(),i(16,"button",12),_("click",function(){return o.save()}),d(17,"i",13),a(18,"Save Session "),n()()),s&2&&(r(6),u(o.siteProperties.allow_user_set_permanent?6:-1),r(),u(o.permanent()?-1:7),r(3),u(o.permanent()?10:11))},dependencies:[A,I,W,T,N,P,V],encapsulation:2})}}return t})();export{R as SessionSaveModalComponent};
