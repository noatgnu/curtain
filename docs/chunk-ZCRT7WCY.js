import{$a as N,Db as C,Fb as f,Gd as L,Hb as m,Oa as r,Rb as a,Ub as M,Wa as b,Wb as S,Xb as v,Yb as x,ad as T,ba as h,bd as P,ca as y,ed as V,id as W,na as p,nb as u,ob as _,pd as I,qb as w,qd as A,rb as D,sb as E,sd as B,tb as k,ub as n,vb as o,wb as c,yd as F}from"./chunk-MFWMSMTE.js";import"./chunk-N57AJHA5.js";function O(t,d){if(t&1){let e=C();n(0,"div",9)(1,"input",17),x("ngModelChange",function(i){h(e);let s=m();return v(s.permanent,i)||(s.permanent=i),y(i)}),o(),n(2,"label",18)(3,"strong"),a(4,"Permanent Session"),o(),n(5,"div",8),a(6," Permanent sessions never expire and remain available indefinitely. "),o()()()}if(t&2){let e=m();r(),S("ngModel",e.permanent)}}function Y(t,d){if(t&1&&(n(0,"option",21),a(1),o()),t&2){let e=d.$implicit;k("value",e),r(),M(" ",e," ",e===1?"month":"months"," ")}}function j(t,d){if(t&1){let e=C();n(0,"div",5)(1,"label",19)(2,"strong"),a(3,"Session Expiry Duration"),o()(),n(4,"select",20),x("ngModelChange",function(i){h(e);let s=m();return v(s.expiryDuration,i)||(s.expiryDuration=i),y(i)}),D(5,Y,2,3,"option",21,w),o(),n(7,"div",8),a(8," Session will automatically expire after the selected duration. "),o()()}if(t&2){let e=m();r(4),S("ngModel",e.expiryDuration),r(),E(e.siteProperties.expiry_duration_options)}}function G(t,d){t&1&&(n(0,"strong"),a(1,"Permanent session:"),o(),a(2," Your session will be saved permanently and never expire. "))}function q(t,d){if(t&1&&(n(0,"strong"),a(1,"Temporary session:"),o(),a(2)),t&2){let e=m();r(2),M(" Your session will expire in ",e.expiryDuration()," ",e.expiryDuration()===1?"month":"months",". ")}}var X=(()=>{class t{constructor(e){this.activeModal=e,this.isStaff=!1,this.currentName="",this.permanent=p(!1),this.expiryDuration=p(void 0),this.sessionName=p("")}ngOnInit(){this.siteProperties&&this.expiryDuration.set(this.siteProperties.default_expiry_duration_months),this.currentName&&this.sessionName.set(this.currentName)}save(){let e={permanent:this.permanent(),expiryDuration:this.permanent()?void 0:this.expiryDuration(),sessionName:this.sessionName()||void 0};this.activeModal.close(e)}cancel(){this.activeModal.dismiss()}static{this.\u0275fac=function(l){return new(l||t)(b(L))}}static{this.\u0275cmp=N({type:t,selectors:[["app-session-save-modal"]],inputs:{siteProperties:"siteProperties",isStaff:"isStaff",currentName:"currentName"},decls:26,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],[1,"bi","bi-save","me-2"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","sessionName",1,"form-label"],["type","text","id","sessionName","placeholder","Enter a name for this session (optional)",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text"],[1,"form-check","form-switch","mb-3"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-check-circle","me-1"],["type","checkbox","id","permanentSwitch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","permanentSwitch",1,"form-check-label"],["for","expiryDuration",1,"form-label"],["id","expiryDuration",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"]],template:function(l,i){l&1&&(n(0,"div",0)(1,"h4",1),c(2,"i",2),a(3,"Save Session "),o(),n(4,"button",3),f("click",function(){return i.cancel()}),o()(),n(5,"div",4)(6,"div",5)(7,"label",6)(8,"strong"),a(9,"Session Name"),o()(),n(10,"input",7),x("ngModelChange",function(g){return v(i.sessionName,g)||(i.sessionName=g),g}),o(),n(11,"div",8),a(12," Give your session a descriptive name to easily find it later. "),o()(),u(13,O,7,1,"div",9),u(14,j,9,1,"div",5),n(15,"div",10),c(16,"i",11),u(17,G,3,0)(18,q,3,2),o()(),n(19,"div",12)(20,"button",13),f("click",function(){return i.cancel()}),c(21,"i",14),a(22,"Cancel "),o(),n(23,"button",15),f("click",function(){return i.save()}),c(24,"i",16),a(25,"Save Session "),o()()),l&2&&(r(10),S("ngModel",i.sessionName),r(3),_(i.siteProperties.allow_user_set_permanent||i.isStaff?13:-1),r(),_(i.permanent()?-1:14),r(3),_(i.permanent()?17:18))},dependencies:[F,A,B,P,T,I,V,W],encapsulation:2})}}return t})();export{X as SessionSaveModalComponent};
