/* You can add global styles to this file, and also import other style files */

/* Importing Bootstrap SCSS file. */
@import "../node_modules/bootstrap/scss/functions";
@import "node_modules/bootstrap/scss/variables";
$min-contrast-ratio: 3.5;
$primary: #2E2D62;
$secondary: #a4a4a4;
$success:       #003632;
$info:          #8294C4;
$warning:       #FFD6A5;
$danger:        #FF9B9B;
$light:         $gray-100;
$dark:          $gray-900;

$theme-colors: (
  "primary":    $primary,
  "secondary":  $secondary,
  "success":    $success,
  "info":       $info,
  "warning":    $warning,
  "danger":     $danger,
  "light":      $light,
  "dark":       $dark
);

// Enable dark mode color modes
$enable-dark-mode: true;

// Dark mode color customizations
$primary-dark: #4a48a0;
$success-dark: #006d65;
$info-dark: #a0b5e0;
$warning-dark: #ffb347;
$danger-dark: #ff7b7b;

.accordion-button:not(.collapsed) {
  color: #FFF  !important;
  background-color: #9acad5 !important;
}

@import 'node_modules/bootstrap/scss/bootstrap';
@import 'node_modules/quill/dist/quill.snow.css';

// Custom CSS Variables for Dark Mode
:root {
  // Light mode (default)
  --app-bg-primary: #ffffff;
  --app-bg-secondary: #f8f9fa;
  --app-bg-tertiary: #e9ecef;
  --app-text-primary: #212529;
  --app-text-secondary: #6c757d;
  --app-text-muted: #adb5bd;
  --app-border-color: #dee2e6;
  --app-border-light: #e9ecef;
  --app-shadow: rgba(0, 0, 0, 0.1);
  --app-shadow-lg: rgba(0, 0, 0, 0.15);
  --app-hover-bg: #f8f9fa;
  --app-card-bg: #ffffff;
  --app-modal-bg: #ffffff;
  --app-input-bg: #ffffff;
  --app-input-border: #ced4da;
  --app-chart-bg: #ffffff;
  --app-chart-grid: #e9ecef;
  --app-chart-text: #212529;
}

[data-bs-theme="dark"] {
  // Dark mode
  --app-bg-primary: #1a1d29;
  --app-bg-secondary: #212529;
  --app-bg-tertiary: #2d3136;
  --app-text-primary: #f8f9fa;
  --app-text-secondary: #adb5bd;
  --app-text-muted: #6c757d;
  --app-border-color: #495057;
  --app-border-light: #3d4247;
  --app-shadow: rgba(0, 0, 0, 0.3);
  --app-shadow-lg: rgba(0, 0, 0, 0.5);
  --app-hover-bg: #2d3136;
  --app-card-bg: #212529;
  --app-modal-bg: #212529;
  --app-input-bg: #2d3136;
  --app-input-border: #495057;
  --app-chart-bg: #212529;
  --app-chart-grid: #3d4247;
  --app-chart-text: #f8f9fa;

  // Override Bootstrap theme colors for dark mode with higher contrast
  --bs-primary: #6366f1;
  --bs-primary-rgb: 99, 102, 241;
  --bs-secondary: #94a3b8;
  --bs-secondary-rgb: 148, 163, 184;
  --bs-success: #10b981;
  --bs-success-rgb: 16, 185, 129;
  --bs-info: #3b82f6;
  --bs-info-rgb: 59, 130, 246;
  --bs-warning: #f59e0b;
  --bs-warning-rgb: 245, 158, 11;
  --bs-danger: #ef4444;
  --bs-danger-rgb: 239, 68, 68;
  --bs-light: #e5e7eb;
  --bs-light-rgb: 229, 231, 235;
  --bs-dark: #1f2937;
  --bs-dark-rgb: 31, 41, 55;

  // Button colors with better contrast
  --bs-btn-bg: #6366f1;
  --bs-btn-border-color: #6366f1;
  --bs-btn-hover-bg: #4f46e5;
  --bs-btn-hover-border-color: #4338ca;
  --bs-btn-active-bg: #4338ca;
  --bs-btn-active-border-color: #3730a3;

  // Outline button colors
  .btn-outline-primary {
    --bs-btn-color: #818cf8;
    --bs-btn-border-color: #6366f1;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #6366f1;
    --bs-btn-hover-border-color: #6366f1;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #4f46e5;
    --bs-btn-active-border-color: #4338ca;
  }

  .btn-outline-secondary {
    --bs-btn-color: #94a3b8;
    --bs-btn-border-color: #94a3b8;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #94a3b8;
    --bs-btn-hover-border-color: #94a3b8;
  }

  .btn-outline-success {
    --bs-btn-color: #10b981;
    --bs-btn-border-color: #10b981;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #10b981;
    --bs-btn-hover-border-color: #10b981;
  }

  .btn-outline-danger {
    --bs-btn-color: #ef4444;
    --bs-btn-border-color: #ef4444;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #ef4444;
    --bs-btn-hover-border-color: #ef4444;
  }

  .btn-outline-warning {
    --bs-btn-color: #f59e0b;
    --bs-btn-border-color: #f59e0b;
    --bs-btn-hover-color: #000;
    --bs-btn-hover-bg: #f59e0b;
    --bs-btn-hover-border-color: #f59e0b;
  }

  .btn-outline-info {
    --bs-btn-color: #3b82f6;
    --bs-btn-border-color: #3b82f6;
    --bs-btn-hover-color: #fff;
    --bs-btn-hover-bg: #3b82f6;
    --bs-btn-hover-border-color: #3b82f6;
  }

  // Link colors
  --bs-link-color: #818cf8;
  --bs-link-hover-color: #a5b4fc;

  // Override Bootstrap dark accordion
  .accordion-button:not(.collapsed) {
    background-color: #6366f1 !important;
  }

  // Dark mode scrollbars
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  ::-webkit-scrollbar-track {
    background: var(--app-bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--app-border-color);
    border-radius: 6px;

    &:hover {
      background: #5a6268;
    }
  }
}

body {
  padding-top: 80px;
  padding-bottom: 40px;
  min-width: 1080px;
  background-color: var(--app-bg-primary);
  color: var(--app-text-primary);
  transition: background-color 0.3s ease, color 0.3s ease;
}

// Smooth transitions for theme changes
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

// Global dark mode styles for all components
[data-bs-theme="dark"] {
  // Cards
  .card {
    background-color: var(--app-card-bg);
    border-color: var(--app-border-color);
    color: var(--app-text-primary);
  }

  .card-header,
  .card-footer {
    background-color: var(--app-bg-tertiary);
    border-color: var(--app-border-color);
  }

  // Forms
  .form-control,
  .form-select {
    background-color: var(--app-input-bg);
    border-color: var(--app-input-border);
    color: var(--app-text-primary);

    &:focus {
      background-color: var(--app-input-bg);
      border-color: var(--bs-primary);
      color: var(--app-text-primary);
    }

    &::placeholder {
      color: var(--app-text-muted);
    }
  }

  // Tables
  .table {
    --bs-table-bg: var(--app-card-bg);
    --bs-table-color: var(--app-text-primary);
    --bs-table-border-color: var(--app-border-color);
    --bs-table-striped-bg: var(--app-bg-tertiary);
    --bs-table-hover-bg: var(--app-hover-bg);

    thead tr {
      background-color: var(--app-bg-primary) !important;

      th {
        background-color: var(--app-bg-primary) !important;
        color: var(--app-text-primary) !important;
      }
    }
  }

  .table-light {
    --bs-table-bg: var(--app-bg-tertiary);
    --bs-table-color: var(--app-text-primary);
  }

  // Modals
  .modal-content {
    background-color: var(--app-modal-bg);
    border-color: var(--app-border-color);
  }

  .modal-header,
  .modal-footer {
    border-color: var(--app-border-color);
  }

  // Alerts
  .alert {
    border-color: var(--app-border-color);

    &.bg-light {
      background-color: var(--app-bg-tertiary) !important;
      color: var(--app-text-primary);
    }
  }

  // Dropdowns
  .dropdown-menu {
    background-color: var(--app-card-bg);
    border-color: var(--app-border-color);
  }

  .dropdown-item {
    color: var(--app-text-primary);

    &:hover,
    &:focus {
      background-color: var(--app-hover-bg);
      color: var(--app-text-primary);
    }
  }

  .dropdown-header {
    color: var(--app-text-secondary);
  }

  .dropdown-divider {
    border-color: var(--app-border-color);
  }

  // Accordions
  .accordion-item {
    background-color: var(--app-card-bg);
    border-color: var(--app-border-color);
  }

  .accordion-button {
    background-color: var(--app-bg-tertiary);
    color: var(--app-text-primary);

    &:not(.collapsed) {
      background-color: var(--bs-primary);
      color: white;
    }
  }

  .accordion-body {
    background-color: var(--app-bg-secondary);
  }

  // Lists
  .list-group-item {
    background-color: var(--app-card-bg);
    border-color: var(--app-border-color);
    color: var(--app-text-primary);

    &:hover {
      background-color: var(--app-hover-bg);
    }
  }

  // Badges
  .badge.bg-light {
    background-color: var(--app-bg-tertiary) !important;
    color: var(--app-text-primary) !important;
  }

  // Text colors
  .text-muted {
    color: var(--app-text-muted) !important;
  }

  // Borders
  .border {
    border-color: var(--app-border-color) !important;
  }

  // Shadows
  .shadow-sm {
    box-shadow: 0 0.125rem 0.25rem var(--app-shadow) !important;
  }

  .shadow {
    box-shadow: 0 0.5rem 1rem var(--app-shadow-lg) !important;
  }

  // Nav tabs
  .nav-tabs {
    border-color: var(--app-border-color);

    .nav-link {
      color: var(--app-text-secondary);

      &:hover {
        border-color: var(--app-border-light);
        color: var(--app-text-primary);
      }

      &.active {
        background-color: var(--app-card-bg);
        border-color: var(--app-border-color) var(--app-border-color) var(--app-card-bg);
        color: var(--app-text-primary);
      }
    }
  }

  // Toasts
  .toast {
    background-color: var(--app-card-bg);
    border-color: var(--app-border-color);
    color: var(--app-text-primary);
  }

  .toast-header {
    background-color: var(--app-bg-tertiary);
    border-color: var(--app-border-color);
    color: var(--app-text-primary);
  }
}

/* Custom modal sizes */
.modal-extra-large .modal-dialog {
  max-width: 95vw;
  width: 95vw;
  margin: 1.75rem auto;
}

.modal-extra-large .modal-content {
  height: 90vh;
}

.modal-extra-large .modal-body {
  overflow-y: auto;
}

// bootstrap sass purple theme
// $purple: #6f42c1;
// $purple-light: #957bbe;
// $purple-dark: #563d7c;
//
// $theme-colors: (
//   "primary": $purple,
//   "secondary": $gray-600,
//   "success": $green,
//   "info": $cyan,
//   "warning": $yellow,
//   "danger": $red,
//   "light": $gray-100,
//   "dark": $gray-800,
// );
